# 同步的 setState

React 通过 setState 重新渲染组件，并且会将多次setState合并为一次。

先尝试实现不用合并的同步的setState。

## Counter

本节期望通过一个计数器达到调试 setState 的目的。

在02中通过`node.setAttribute`给节点设置属性，在这里遇到`onClick`是 React 中定义的属性。在遇到事件类型的属性时需要给节点加上监听函数。所以此处需要修改`setAttribute`方法。

```javascript
// react-dom/utils.js
export function setAttribute(node, attr, value) {
  if (/on\w+/.test(attr)) {
    node[attr.toLowerCase()] = value
  } else {
    node.setAttribute(attr, value)
  }
}
```

在调用`setState`后需要重新渲染组件，需要抽象出重新渲染`ReactElement`的方法。

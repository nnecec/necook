# 10.测试

1. 单元测试

   1. 单元测试的意义

      编写可测试代码原则：

      - 单一职责
      - 接口抽象
      - 层次分离

   2. 单元测试介绍

      1. 断言

      2. 测试框架

         单元测试风格主要有TDD(测试驱动开发)和BDD(行为驱动开发)

         - 关注点不同。TDD关注所有功能是否被正确实现，BDD关注整体行为是否符合预期
         - 表达方式不同。TDD的表述方式偏向于说明，BDD更接近于自然语言

         BDD主要采用describe和it进行组织。TDD主要采用suite和test。

         - 测试报告

      3. 测试代码的文件组织

      4. 测试用例

         - 异步测试
         - 超时设置

      5. 测试覆盖率

      6. mock

      7. 私有方法的测试

   3. 工程化与自动化

      1. 工程化

         利用Makefile执行复杂的单元测试等

      2. 持续集成

         利用travis-ci持续集成

2. 性能测试

   包括负载测试、压力测试和基准测试等

   1. 基准测试

      统计在多少时间内执行了多少次某个方法，一般以次数作为参照物，然后比较时间。

   2. 压力测试

      对网络接口进行压力测试以判断网络接口的性能。对网络接口做压力测试需要考查吞吐率、响应时间和并发数。这些指标反映了服务器的并发处理能力。

   3. 基准测试驱动开发

      BDD，全称Benchmark Driven Development，基准测试驱动开发。主要流程：

      1. 写基准测试
      2. 写/改代码
      3. 收集数据
      4. 找出问题
      5. 回到第二步

   4. 测试数据与业务数据的转换

      ​
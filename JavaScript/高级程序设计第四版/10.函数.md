# 函数

函数声明 函数表达式 箭头函数 Function 构造函数

ECMAScript 函数的参数在内部表现为 一个数组，可以在函数内部访问 arguments 对象，从中取 得传进来的每个参数值。arguments 对象是一个类数组对象（但不是 Array 的实 例），因此可以使用中括号语法访问其中的元素。而要确定传 进来多少个参数，可以访问 arguments.length 属性。

如果函数是使用箭头语法定义的，那么传给函数的参数将不能使 用 arguments 关键字访问，而只能通过定义的命名参数访问。

ECMAScript 中的所有参数都按值传递的。不可能按引用传递 参数。如果把对象作为参数传递，那么传递的值就是这个对象的引 用。

如果在 ECMAScript 中定义了两个同名函数，则后定义的会覆盖先 定义的。

严格模式下运行的代码是不能访问 arguments.callee

## 尾调用优化

函数的返回值是另一个函数的返回值。

ES6 尾调用优化的关键：如果函数的逻辑允许基于尾调用将其 销毁，则引擎就会那么做。

尾调用优化的条件就是确定外部栈帧真的没有必要存在了。涉及 、的条件如下：

- 代码在严格模式下执行；
- 外部函数的返回值是对尾调用函数的调用；
- 尾调用函数返回后不需要执行额外的逻辑；
- 尾调用函数不是引用外部函数作用域中自由变量的闭包。

之所以要求严格模式，主要因为在非严格模式下函数调用中 允许使用 f.arguments 和 f.caller ，而它们都会引用外部函 数的栈帧。

## 闭包

闭包指的是那些引 用了另一个函数作用域中变量的函数，通常是在嵌套函数中实现的。

在调用一个函数时，会为这个函数调用 创建一个执行上下文，并创建一个作用域链。然后用 arguments 和 其他命名参数来初始化这个函数的活动对象。外部函数的活动对象是 内部函数作用域链上的第二个对象。这个作用域链一直向外串起了所 有包含函数的活动对象，直到全局执行上下文才终止。

函数内部的代码在访问变量时，就会使用给定的名称从作用域链 中查找变量。函数执行完毕后，局部活动对象会被销毁，内存中就只 剩下全局作用域。不过，闭包就不一样了。

手动释放闭包函数

this

内存泄漏

## 立即调用的函数表达式

立即调用的匿名函数又被称作立即调用的函数表达式（IIFE， Immediately Invoked Function Expression）

## 私有变量



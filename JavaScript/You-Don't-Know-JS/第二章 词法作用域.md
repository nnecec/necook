# 第二章 词法作用域

作用域有两种主要的工作模型：词法作用域，动态作用域

1. 词法阶段

   语言编译器的的第一个工作阶段叫作词法化（也叫单词化）。词法作用域就是定义在词法阶段的作用域。

   查找

   作用域气泡的结构和互相之间的位置关系给引擎提供了足够的位置信息，引擎用这些信息来查找标识符的位置。

   作用域查找会在找到第一个匹配的标识符时停止。 在多层的嵌套作用域中可以定义同名的标识符，这叫作“遮蔽效应”（内部的标识符“遮蔽”了外部的标识符）。词法作用域查找只会查找一级标识符， 比如 a 、 b 和 c 。 如果代码中引用了 foo.bar.baz ， 词法作用域查找只会试图查找 foo 标识符，找到这个变量后，对象属性访问规则会分别接管对 bar 和 baz 属性的访问。

2. 欺骗词法

   会导致性能下降

   1. eval
   2. with


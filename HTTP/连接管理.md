# 连接管理

> 《HTTP 权威指南》第四章 连接管理

- HTTP 是如何使用 TCP 连接的；
- TCP 连接的时延、瓶颈以及存在的障碍；
- HTTP 的优化，包括并行连接、keep-alive（持久连接）和管道化连接；
- 管理连接时应该以及不应该做的事情。

## TCP 连接

TCP/IP 是全球计算机及网络设备都在使用的一种常用的分组交换网络分层协议集。客户端应用程序可以打开一条 TCP/IP 连接，连接服务器。一旦连接建立，在客户端和服务器的计算机之间交换的报文就永远不会丢失、受损或失序。

1. TCP 的可靠数据管道
  HTTP 实际上就是 TCP 连接及其使用规则。TCP 连接是因特网上的可靠连接。TCP 为 HTTP 提供了一条可靠的比特传输管道。
2. TCP流是分段的、由IP分组传送
  TCP 的数据是通过名为 IP 分组（或 IP 数据报）的小数据块来发送的。HTTP 就是“HTTP over TCP over IP”这个“协议栈”中的最顶层了。其安全版本 HTTPS 就是在 HTTP 和 TCP 之间插入了一个（称为 TLS 或 SSL 的）密码加密层。每个 TCP 段都是由 IP 分组承载，从一个 IP 地址发送到另一个 IP 地址的。
3. 保持TCP连接的持续不间断地运行
  在任意时刻计算机都可以有几条 TCP 连接处于打开状态。TCP 是通过*端口号*来保持所有这些连接的正确运行的。
4. 用 TCP 套接字编程